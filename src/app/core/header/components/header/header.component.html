<app-banners></app-banners>
<header class="rubic-header" *ngLet="currentUser$ | async as currentUser">
  <app-logo
    [currentUser]="!!currentUser"
    [isDarkTheme]="isDarkTheme$ | async"
    [noFrameLink]="noFrameLink"
  ></app-logo>

  <app-rubic-menu-toggler class="rubic-header__menu">
    <app-rubic-menu
      [swapActive]="rootPath && (swapType$ | async) === SWAP_PROVIDER_TYPE.INSTANT_TRADE"
      [crossChainActive]="
        rootPath && (swapType$ | async) === SWAP_PROVIDER_TYPE.CROSS_CHAIN_ROUTING
      "
      (swapClick)="navigateToSwaps()"
    ></app-rubic-menu>
  </app-rubic-menu-toggler>

  <button
    class="swap-button"
    tuiButton
    appearance="secondary"
    type="button"
    size="m"
    [pseudoActive]="
      rootPath &&
      ((swapType$ | async) === SWAP_PROVIDER_TYPE.CROSS_CHAIN_ROUTING ||
        (swapType$ | async) === SWAP_PROVIDER_TYPE.INSTANT_TRADE)
    "
    (click)="navigateToSwaps()"
  >
    Swaps
  </button>

  <app-language-selector></app-language-selector>

  <app-history-button></app-history-button>

  <div class="rubic-header__profile">
    <ng-container *ngIf="!(currentUser$ | async)?.address; else loggedIn">
      <app-login-button class="rubic-header__login"></app-login-button>
    </ng-container>
    <ng-template #loggedIn>
      <app-user-profile class="rubic-header__profile-user"></app-user-profile>
    </ng-template>
  </div>

  <ng-container *noFrame>
    <app-mobile-menu *ngIf="isMobile$ | async"></app-mobile-menu>
  </ng-container>
</header>
