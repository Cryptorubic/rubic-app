<ng-container *ngLet="(currentUser$ | async)?.address as userAddress">
  <tui-hosted-dropdown [content]="dropdown" tuiDropdownAlign="right" [(open)]="dropdownIsOpened">
    <div tuiGroup>
      <button tuiButton appearance="secondary" type="button" size="m">
        <ng-container *ngLet="spaceIdData$ | async as spaceIdData">
          <div class="user-profile__avatar">
            <img
              [src]="spaceIdData?.avatar ?? currentBlockchainIcon"
              alt="User avatar"
              width="24"
              height="24"
            />
          </div>

          <div class="user-profile__text">
            {{
              spaceIdData?.name ||
                (userAddress.length > 20 ? (userAddress | shortAddress : 5 : 3) : userAddress)
            }}
          </div>
        </ng-container>

        <div class="arrow" inlineSVG="assets/images/icons/arrow-down.svg"></div>
      </button>
    </div>
  </tui-hosted-dropdown>

  <ng-template #dropdown let-activeZone>
    <tui-data-list class="data-list" size="m" role="menu">
      <tui-opt-group>
        <button
          tuiButton
          class="data-list__element"
          appearance="secondary"
          type="button"
          size="m"
          class="user-profile__logout"
          (click)="logout()"
        >
          <div class="data-list__link-container">
            {{ 'navigation.logout' | translate }}
          </div>
        </button>
      </tui-opt-group>
    </tui-data-list>
  </ng-template>
</ng-container>
