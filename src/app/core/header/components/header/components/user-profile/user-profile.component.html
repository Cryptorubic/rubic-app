<ng-container>
  <tui-hosted-dropdown [content]="dropdown" tuiDropdownAlign="right" [(open)]="dropdownIsOpened">
    <div tuiGroup>
      <button tuiButton appearance="secondary" type="button" size="m">
        <ng-container *ngLet="{ text: profileText$ | async, img: avatar$ | async } as profile">
          <div class="user-profile__avatar">
            <img [src]="profile.img" alt="User avatar" width="24" height="24" />
          </div>

          <div class="user-profile__text">
            {{ profile.text?.length > 20 ? (profile.text | shortAddress : 5 : 3) : profile.text }}
          </div>
        </ng-container>

        <div class="arrow" inlineSVG="assets/images/icons/arrow-down.svg"></div>
      </button>
    </div>
  </tui-hosted-dropdown>

  <ng-template #dropdown let-activeZone>
    <tui-data-list class="data-list" size="m" role="menu">
      <tui-opt-group>
        <button
          tuiButton
          class="data-list__element"
          appearance="secondary"
          type="button"
          size="m"
          class="user-profile__logout"
          (click)="logout()"
        >
          <div class="data-list__link-container">
            {{ 'navigation.logout' | translate }}
          </div>
        </button>
      </tui-opt-group>
    </tui-data-list>
  </ng-template>
</ng-container>
