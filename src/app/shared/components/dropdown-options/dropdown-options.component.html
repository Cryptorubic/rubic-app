<tui-hosted-dropdown #dropdown [content]="content" [(open)]="isDropdownOpen">
  <button
    class="dropdown-open-button"
    appearance="flat"
    icon="tuiIconMoreVertical"
    tuiIconButton
    type="button"
    [size]="openButtonSize"
    [pseudoHover]="dropdown.open || null"
  ></button>
</tui-hosted-dropdown>

<ng-template #content let-activeZone>
  <tui-data-list tuiDataListDropdownManager size="l" [tuiActiveZoneParent]="activeZone">
    <div class="token-card-wrapper">
      <div class="token-card__actions token-card__actions_clickable">
        <ng-container *ngIf="showCopyToClipboardOption">
          <span
            class="token-card__name-container-copy-icon"
            *ngIf="isHintShown"
            [inlineSVG]="'assets/images/swaps/swaps-info/copy-icon.svg'"
            (click)="copyToClipboard($event)"
            [tuiHint]="copyHint"
            tuiHintAppearance="onDark"
            [tuiHintShowDelay]="50"
            tuiHintDirection="top-right"
            [tuiHintHideDelay]="100"
          ></span>

          <ng-template #copyHint>
            <span class="token-card__name-container-address-hint">{{ copyValue }}</span>
          </ng-template>

          <span *ngIf="!isHintShown" class="token-card__name-container-copied-container">
            <span
              class="token-card__name-container-copied-icon"
              [inlineSVG]="'assets/images/swaps/swaps-info/tick.svg'"
            ></span>
          </span>
        </ng-container>

        <ng-container *ngIf="showSecurityStatusOption">
          <div class="token-card__security-container">
            <a
              class="token-card__security-container-security-icon"
              [inlineSVG]="
                'assets/images/swaps/swaps-info/token-security-' + securityStatus + '-icon.svg'
              "
              [tuiHint]="tokenSecurityHint"
              tuiHintAppearance="onDark"
              [tuiHintShowDelay]="50"
              tuiHintDirection="top-right"
              [tuiHintHideDelay]="100"
              [href]="goPlusLabsLink"
              rel="noopener noreferrer"
              target="_blank"
              (click)="$event.stopPropagation()"
            ></a>

            <ng-template #tokenSecurityHint>
              <span class="token-card__security-container-security-hint">
                {{ securityMessages[securityStatus] }}
              </span>
              <ng-container *ngIf="securityStatus !== TokenSecurityStatus.PLATFORM_TOKEN">
                <span class="token-card__security-container-security-hint-powered-by"
                  >Powered by Go+</span
                >
              </ng-container>
            </ng-template>
          </div>
        </ng-container>

        <ng-container *ngIf="showFavoriteTokenOption">
          <tui-loader
            class="token-card__favorite-container"
            [showLoader]="loadingFavoriteToken"
            [overlay]="true"
          >
            <div
              class="token-card__favorite"
              [ngClass]="{
                'token-card__favorite_active': token?.favorite
              }"
              [inlineSVG]="'assets/images/icons/star2.svg'"
              (click.stop)="toggleFavorite()"
            ></div>
          </tui-loader>
        </ng-container>
      </div>
    </div>
  </tui-data-list>
</ng-template>
