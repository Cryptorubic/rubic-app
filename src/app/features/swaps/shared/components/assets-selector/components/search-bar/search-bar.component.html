<ng-container *ngLet="searchQuery$ | async as searchQuery">
  <tui-input
    *ngIf="!expandableField; else expandableInputTpl"
    [ngModel]="searchQuery"
    (ngModelChange)="onQueryChanges($event)"
    [tuiTextfieldIcon]="'tuiIconSearchLarge'"
    [tuiTextfieldSize]="searchBarSize"
  >
    {{ searchBarText$ | async | translate }}
  </tui-input>

  <ng-template #expandableInputTpl>
    <div class="expandable-input" [class.expandable-input_expanded]="isExpanded" (click)="expand()">
      <tui-input
        [ngModel]="searchQuery"
        (ngModelChange)="onQueryChanges($event)"
        [tuiTextfieldIcon]="'tuiIconSearchLarge'"
        tuiTextfieldSize="l"
        [tuiTextfieldCleaner]="true"
      >
        {{ 'modals.tokensListModal.searchPlaceholder' | translate }}
      </tui-input>
    </div>
  </ng-template>
</ng-container>
