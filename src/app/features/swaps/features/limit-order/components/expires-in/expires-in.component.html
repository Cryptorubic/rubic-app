<tui-hosted-dropdown
  class="dropdown"
  [(open)]="settingsOpen"
  (openChange)="onOpenChange($event)"
  [content]="dropdown"
  tuiDropdownDirection="bottom"
>
  <div class="dropdown__container">
    <div class="dropdown__header header">
      <span class="header__title">Expires in</span>
      <img
        src="assets/images/icons/exclamation-grey.svg"
        alt="info"
        tuiHint="Please note: When a limit order expires, no cancellation fee is charged. If a limit order is canceled manually, a gas fee is charged at the time of signing the transaction."
        tuiHintMode="onDark"
      />
    </div>

    <ng-container *ngLet="expirationValue$ | async as value">
      <div
        class="dropdown__value"
        [tuiHint]="value.shortValue !== value.fullValue ? value.fullValue : null"
        tuiHintMode="onDark"
      >
        {{ value.shortValue }}
      </div>
    </ng-container>

    <img
      src="assets/images/icons/arrow-down.svg"
      alt="expand"
      class="dropdown__arrow"
      [class.transaction-info__arrow_opened]="settingsOpen"
    />
  </div>
</tui-hosted-dropdown>

<ng-template #dropdown>
  <app-expiration-optional
    *ngIf="dropdownState === 'optional'"
    (onClose)="onClose()"
    (onStateChange)="toggleState()"
  ></app-expiration-optional>
</ng-template>
