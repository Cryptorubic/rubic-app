<div class="refresh-button">
  <img
    class="refresh-button__icon"
    [ngClass]="{
      animate: !stopAnimation
    }"
    [src]="imageUrl"
    width="18"
    height="18"
    (mouseenter)="mouseEnter()"
    (mouseleave)="mouseLeave()"
    alt="Toggle auto refresh"
    [tuiHint]="refreshIconTooltip"
    (click)="toggleClick()"
    #refreshIcon
  />

  <svg
    *ngIf="(status$ | async) === REFRESH_BUTTON_STATUS.ON_TIMER && (autoRefresh$ | async)"
    class="refresh-button__outline-icon"
    xmlns="http://www.w3.org/2000/svg"
  >
    <circle
      class="refresh-button__timer"
      [ngStyle]="{ 'animation-duration': refreshTimeout * 2 + 's' }"
      cx="15"
      cy="15"
      r="14"
      transform="rotate(-90)"
    />
  </svg>
</div>

<ng-template #refreshIconTooltip
  ><span class="refresh-icon-tooltip">{{
    (this.autoRefresh$ | async) ? 'Disable auto refresh' : 'Enable auto refresh'
  }}</span></ng-template
>
