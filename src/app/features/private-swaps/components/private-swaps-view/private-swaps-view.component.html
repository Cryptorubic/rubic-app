<app-window-container>
  <ng-container header>Private swaps</ng-container>

  <tui-tabs [(activeItemIndex)]="activeTabIndex">
    <button tuiTab>Deposit</button>
    <button tuiTab>Withdraw</button>
    <button tuiTab>Transfer/Swap</button>
  </tui-tabs>

  <!-- Deposit Tab -->
  <div *ngIf="activeTabIndex === 0" class="tab-content">
    <div class="row">
      <tui-input class="field" [formControl]="amountCtrl" tuiTextfieldSize="m"> Amount </tui-input>
      <tui-select
        class="field"
        [formControl]="srcTokenCtrl"
        tuiTextfieldSize="m"
        [stringify]="stringifyTokenId"
      >
        Token
        <tui-data-list *tuiDataList>
          <button *ngFor="let token of tokens" tuiOption [value]="token.id">
            {{ token.name }}
          </button>
        </tui-data-list>
      </tui-select>
    </div>

    <div class="row row-center">
      <button tuiButton type="button" appearance="primary" size="m" (click)="makeDeposit()">
        Deposit
      </button>
    </div>
  </div>

  <!-- Withdraw Tab -->
  <div *ngIf="activeTabIndex === 1" class="tab-content">
    <div class="row">
      <tui-input class="field" [formControl]="amountCtrl" tuiTextfieldSize="m"> Amount </tui-input>
      <tui-select
        class="field"
        [formControl]="srcTokenCtrl"
        tuiTextfieldSize="m"
        [stringify]="stringifyTokenId"
      >
        Token
        <tui-data-list *tuiDataList>
          <button *ngFor="let token of tokens" tuiOption [value]="token.id">
            {{ token.name }}
          </button>
        </tui-data-list>
      </tui-select>
    </div>

    <div class="row">
      <tui-input class="field" [formControl]="receiverCtrl" tuiTextfieldSize="m">
        Receiver address
      </tui-input>
    </div>

    <div class="row row-center">
      <button tuiButton type="button" appearance="primary" size="m" (click)="makeWithdraw()">
        Withdraw
      </button>
    </div>
  </div>

  <!-- Transfer Tab -->
  <div *ngIf="activeTabIndex === 2" class="tab-content">
    <div class="row">
      <tui-select
        class="field"
        [formControl]="srcTokenCtrl"
        tuiTextfieldSize="m"
        [stringify]="stringifyTokenId"
      >
        Source token
        <tui-data-list *tuiDataList>
          <button *ngFor="let token of tokens" tuiOption [value]="token.id">
            {{ token.name }}
          </button>
        </tui-data-list>
      </tui-select>
    </div>

    <div class="row">
      <tui-select
        class="field"
        [formControl]="dstTokenCtrl"
        tuiTextfieldSize="m"
        [stringify]="stringifyTokenId"
      >
        Destination token
        <tui-data-list *tuiDataList>
          <button *ngFor="let token of filteredDestinationTokens" tuiOption [value]="token.id">
            {{ token.name }}
          </button>
        </tui-data-list>
      </tui-select>
    </div>

    <div class="row">
      <tui-input class="field" [formControl]="amountCtrl" tuiTextfieldSize="m"> Amount </tui-input>
    </div>

    <div class="row">
      <tui-input class="field" [formControl]="receiverCtrl" tuiTextfieldSize="m">
        Receiver address
      </tui-input>
    </div>

    <div class="row row-center">
      <button tuiButton type="button" appearance="primary" size="m" (click)="makeTransfer()">
        {{ privacyCashFormValue.srcToken === privacyCashFormValue.dstToken ? 'Transfer' : 'Swap' }}
      </button>
    </div>
  </div>
</app-window-container>
