<div
  class="swap-container"
  *ngLet="{
    content: formContent$ | async,
    providers: providers$ | async,
    showProviders: showProviders$ | async
  } as state"
>
  <div
    class="form"
    [ngClass]="{
      form_small: state.content === 'preview',
      form_tokens: state.content === 'fromSelector' || state.content === 'toSelector'
    }"
    [ngSwitch]="state.content"
  >
    <app-token-selector-page *ngSwitchCase="'fromSelector'" type="from"></app-token-selector-page>
    <app-token-selector-page *ngSwitchCase="'toSelector'" type="to"></app-token-selector-page>
    <app-swap-form-page
      [style]="{ display: state.content === 'form' ? 'block' : 'none' }"
    ></app-swap-form-page>
    <app-preview-swap *ngSwitchCase="'preview'"></app-preview-swap>
    <app-cn-preview-swap *ngSwitchCase="'cnPreview'"></app-cn-preview-swap>
  </div>

  <app-providers-list-general
    *ngIf="state.showProviders && state.content === 'form'"
    @inOutAnimation
    [states]="state.providers"
    [selectedTradeType]="selectedTradeType$ | async"
    (selectTrade)="selectTrade($event)"
    [calculationProgress]="calculationProgress$ | async"
    [showCalculation]="true"
  ></app-providers-list-general>
</div>
