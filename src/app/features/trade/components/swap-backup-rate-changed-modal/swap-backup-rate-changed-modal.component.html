<div class="modal">
  <div class="modal__content" *ngLet="tradeInfo$ | async as tradeInfo">
    <main class="modal__body">
      <img
        class="modal__warning-image"
        src="assets/images/bridge/warning-image-small.svg"
        alt="Warning"
      />
      <div *ngIf="tradeState" class="modal__data-container modal__data-container_with-line">
        <app-route-element
          [routes]="tradeState?.routes || []"
          [tradeType]="tradeState.tradeType"
        ></app-route-element>
      </div>
      <h3>New Route Found</h3>
      <p>The rate has updated. Please review the details and sign the transaction.</p>
      <div class="modal__rate-info">
        <div class="modal__rate">
          <span class="modal__rate-title">Quoted amount:</span>
          <span class="modal__rate-value"
            >{{ rateChangeInfo.oldAmount | bigNumberFormat | shortenAmount : 8 : 6 }}
            {{ rateChangeInfo.tokenSymbol }}</span
          >
        </div>
        <div class="modal__rate">
          <span class="modal__rate-title">Current amount:</span>
          <span class="modal__rate-value"
            >{{ rateChangeInfo.newAmount | bigNumberFormat | shortenAmount : 8 : 6 }}
            {{ rateChangeInfo.tokenSymbol }}</span
          >
        </div>
        <div class="modal__rate">
          <span class="modal__rate-title">Rate change:</span>
          <span class="modal__rate-value"
            >{{ difference | bigNumberFormat | shortenAmount : 8 : 6 }}%</span
          >
        </div>
      </div>
    </main>
    <footer class="modal__footer">
      <div class="modal__footer-actions">
        <button tuiButton appearance="outline" type="button" size="m" (click)="onCancel()">
          {{ 'common.cancel' | translate }}
        </button>
        <button tuiButton appearance="primary" type="button" size="m" (click)="onConfirm()">
          {{ 'common.OK' | translate }}
        </button>
      </div>
    </footer>
  </div>
</div>
