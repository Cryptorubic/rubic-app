<ng-container *ngLet="deposits$ | async as deposits">
  <ng-container *ngIf="deposits?.length">
    <div class="deposits__wrapper">
      <div class="deposits__head">
        <div class="deposits__title">
          <span class="deposits__title-text"
            >{{ 'staking.deposits.yourDeposits' | translate }}
          </span>
          <app-rotating-icon
            [rotating]="depositsLoading$ | async"
            (iconClick)="refreshDeposits()"
          ></app-rotating-icon>
        </div>
        <button class="deposits__new-deposit-btn" (click)="navigateToStakeForm()">
          {{ 'staking.deposits.newPosition' | translate }}
        </button>
      </div>
      <div class="deposits__body" *ngIf="deposits.length; else noDeposits">
        <table class="tui-table">
          <tbody>
            <tr class="tui-table__tr">
              <th class="tui-table__th">NFT ID</th>
              <th class="tui-table__th">BRBC</th>
              <th class="tui-table__th">Rewards</th>
              <th class="tui-table__th">APR</th>
              <th class="tui-table__th">End Date</th>
              <th class="tui-table__th">&nbsp;</th>
            </tr>
            <ng-container *ngFor="let deposit of deposits">
              <tr class="tui-table__tr data-row">
                <td class="tui-table__td">
                  <div class="tui-table__td-id">
                    <img src="assets/images/rbc-util-icon.png" alt="" />
                    {{ deposit.id }}
                  </div>
                </td>
                <td class="tui-table__td">{{ deposit.amount | bigNumberFormat: 0:true }}</td>
                <td class="tui-table__td">
                  {{ deposit.totalNftRewards | bigNumberFormat: 2:true }}
                </td>
                <td class="tui-table__td">
                  <!-- {{ deposit.tokenApr | bigNumberFormat }}% -->
                  0%
                </td>
                <td class="tui-table__td">{{ deposit.endTimestamp | date: 'dd.MM.yyyy' }}</td>
                <td class="tui-table__td">
                  <div class="tui-table__td-actions">
                    <app-rubic-button appearance="secondary" (onClick)="claim(deposit)"
                      >Claim Rewards</app-rubic-button
                    >
                    <app-rubic-button (onClick)="withdraw(deposit)">
                      <img src="assets/images/icons/leave.svg" alt="" />
                    </app-rubic-button>
                  </div>
                </td>
              </tr>
              <tr style="height: 12px"></tr>
            </ng-container>
          </tbody>
        </table>
      </div>
    </div>
  </ng-container>
</ng-container>
