<ng-container *ngLet="isMobile$ | async as isMobile">
  <tui-hosted-dropdown #dropdown [content]="content" [(open)]="isDropdownOpen" *ngIf="showDropdown">
    <button
      class="dropdown-button"
      appearance="flat"
      icon="tuiIconMoreVertical"
      tuiIconButton
      type="button"
      [size]="isMobile ? 'm' : 's'"
      [pseudoHover]="dropdown.open || null"
    ></button>
  </tui-hosted-dropdown>

  <ng-template #content let-activeZone>
    <tui-data-list tuiDataListDropdownManager size="m" [tuiActiveZoneParent]="activeZone">
      <div class="dropdown-content__wrapper">
        <ng-container *ngIf="token.shieldTxHash">
          <a [href]="getTxLink(token)" target="_blank">
            <div class="dropdown-content">
              <div class="dropdown-content__element">
                <span
                  class="dropdown-content__icon"
                  [inlineSVG]="'assets/images/icons/scanner-white.svg'"
                ></span>
                <span class="auto-height">View in Explorer</span>
              </div>
            </div>
          </a>
          <div class="dropdown-content">
            <div class="dropdown-content__element" (click)="copyToClipboard()">
              <ng-container *ngIf="!isCopyClicked; else copyClicked">
                <span
                  class="dropdown-content__icon"
                  [inlineSVG]="'assets/images/icons/copy-icon-white.svg'"
                ></span>
              </ng-container>
              <span class="auto-height">Copy transaction hash</span>
            </div>

            <ng-template #copyClicked>
              <span class="dropdown-content__container-copied-container">
                <span
                  class="dropdown-content__container-copied-icon"
                  [inlineSVG]="'assets/images/swaps/swaps-info/tick.svg'"
                ></span>
              </span>
            </ng-template>
          </div>
        </ng-container>
        <ng-container *ngIf="token.ppoiLink">
          <a [href]="token.ppoiLink" target="_blank">
            <div class="dropdown-content">
              <div class="dropdown-content__element">
                <span
                  class="dropdown-content__icon"
                  [inlineSVG]="'assets/images/icons/link-icon.svg'"
                ></span>
                <span class="auto-height">View on PPOI</span>
              </div>
            </div>
          </a>
        </ng-container>
      </div>
    </tui-data-list>
  </ng-template>
</ng-container>
