<app-rubic-button
  appearance="secondary"
  *ngIf="needLogin; else switchNetwork"
  (onClick)="onLogin.emit()"
>
  {{ 'modals.walletsModal.title' | translate }}
</app-rubic-button>

<ng-template #switchNetwork>
  <app-rubic-button
    appearance="secondary"
    *ngIf="needSwitchNetwork | falsy; else approveAndStake"
    (onClick)="onSwitchNetwork.emit()"
  >
    {{ 'common.switchTo' | translate: { networkName: blockchain } }}
  </app-rubic-button>
</ng-template>

<ng-template #approveAndStake>
  <ng-container *ngIf="error === errors.NEED_APPROVE; else stakeButton">
    <app-rubic-button
      appearance="secondary"
      (onClick)="onApprove.emit()"
      [disabled]="approveLoading"
      [loading]="approveLoading"
    >
      Approve RBC
    </app-rubic-button>
  </ng-container>

  <ng-template #stakeButton>
    <app-rubic-button
      [disabled]="error !== errors.NULL"
      appearance="secondary"
      (onClick)="onStake.emit()"
      [loading]="stakeLoading"
    >
      <ng-container [ngSwitch]="error">
        <ng-container *ngSwitchCase="errors.INSUFFICIENT_BALANCE_RBC">
          Insufficient RBC balance
        </ng-container>
        <ng-container *ngSwitchCase="errors.EMPTY_AMOUNT">Empty amount</ng-container>
        <ng-container *ngSwitchCase="errors.LESS_THEN_MINIMUM"
          >Minimum amount is 10 RBC</ng-container
        >
        <ng-container *ngSwitchCase="errors.NULL">
          {{ 'lp.initiateDeposit' | translate }}
        </ng-container>
      </ng-container>
    </app-rubic-button>
  </ng-template>
</ng-template>
